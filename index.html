<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Merge Tone</title>
  <link rel="stylesheet" href="index-styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Concert+One&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Chela+One&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
  <script defer src="https://pyscript.net/latest/pyscript.js"></script>


</head>
<body>
  <!-- External Libraries -->
  <py-config>
    packages = ["pytube"]
  </py-config>
  <!-- packages = ["ipython", "librorsa", "pydub", "pythumb", "pytube", "spleeter", "pydub", "argparse", "math", "wave", "matplotlib.pyplot", "numpy", "scipy", "pywt"] -->

  <div class="page">
    <div class="top-page">
      <div class="top-page-upper">
        <div class="left-box">
          <div class="avatar"><img src="media/merge-tone-logo-clear-bg.png" alt="merge-tone-logo"></div>
        </div>
        <div class="name-stack">
          <div class="project-name">Merge Tone</div>
          <div class="project-intro">Merge Tone is a web-based service that finds two songs with the same BPM, and can merge the vocals from one song to the instruments of the other.</div>
        </div>
        <div class="right-box">
          <div class="avatar"><img src="media/merge-tone-logo-clear-bg.png" alt="merge-tone-logo"></div>
        </div>
      </div>
      <div class="top-page-lower">
        <div class="top-page-song">
          <div class="song-card top-song-card">
            <div class="song-card-left"><img src="media/spinning-cd.gif" alt="vinyl"></div>
            <div class="song-card-right">
              <div class="song-status">
                <form>
                  <label for="song-aspect-left"></label>
                  <select id="song-aspect-left" name="song-aspect-left">
                    <option value="vocals">Vocals</option>
                    <option value="instrumentals">Instrumentals</option>
                  </select>
                </form>
              </div>
              <div class="song-name">Song Name 1</div>
              <div class="under-song">John Artist</div>
            </div>
          </div>
        </div>
        <button id="merge" class="merge-music blue-button" onclick="textChangeAwesome()">Merge!</button>
        <div class="top-page-song">
          <div class="song-card top-song-card">
            <div class="song-card-left"><img src="media/vinyl.gif" alt="vinyl"></div>
            <div class="song-card-right">
              <div class="song-status">
                <form>
                <label for="song-aspect-right"></label>
                  <select id="song-aspect-right" name="song-aspect-right" required>
                    <option value="vocals">Vocals</option>
                    <option value="instrumentals">Instrumentals</option>
                  </select>
                </form>
              </div>
              <div class="song-name">Song Name 2</div>
              <div class="under-song">John Artist</div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="bottom-page">
      <div class="bottom-page-first">
        <div class="bottom-container">
          <div class="left-arrow"><img src="media/arrow-left.png" alt="left-arrow"></div>
          <div id="middle-song-card" class="song-card">
            <div class="song-card-left new-song-card-left"><img src="media/holo-cd.gif" alt="holo-cd"></div>
            <div class="song-card-right new-song-card-right">
              <div class="song-status">Vocals</div>
              <div class="song-name">New Song</div>
              <div class="under-song">John Artist</div>
            </div>
          </div>
          <div class="right-arrow"><img src="media/arrow-right.png" alt="right-arrow"></div>
        </div>
      </div>
      <button id="try-it-button" class="blue-button try-it" onclick="textChangeNice()">Try It!</button>
      <div class="bottom-page-second">
        <div class="second-left">
          <div class="upload-container">
            <div class="upload-top">
              <div class="logo">Logo</div>
              <div class="music-aspect">Vocal</div>
            </div>
            <div class="upload">
              <form onsubmit="return false">
                <label for="link-vocal">Link:</label><br>
                <input type="text" id="link-vocal">
                <button type="submit" id="get-vocal" py-click="submit_link_vocal()" type="submit" class="py-button">Submit</button>
                <p id="output-vocal-link"></p>
                <p id="output-vocal-title"></p>
              </form>
            </div>
          </div>
        </div>
        <div class="second-right">
          <div class="upload-container">
            <div class="upload-top">
              <div class="logo">Logo</div>
              <div class="music-aspect">Instrumental</div>
            </div>
            <div class="upload">
              <form onsubmit="return false">
                <label for="link-instrument">Link:</label><br>
                <input type="text" id="link-instrument">
                <button type="submit" id="get-instrument" py-click="submit_link_instrument()" type="submit" class="py-button">Submit</button>
                <p id="output-instru-link"></p>
                <p id="output-instru-title"></p>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <script>
    function textChangeNice() {
      document.getElementById("try-it-button").innerHTML = "Nice!";
    }

    function textChangeAwesome() {
      document.getElementById("merge").innerHTML = "Awesome!";
    }
  </script>


  <!-- Pyscript / Python Code -->
  <py-script src = "./python/bpm_detection.py"></py-script>
  <py-script src = "./python/mp3_from_url.py"></py-script>

  <py-script src = "./python/main.py"></py-script>



</body>
</html>